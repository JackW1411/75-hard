:root{
    --bg: #0b0f14;
    --card: rgba(255,255,255,0.06);
    --card2: rgba(255,255,255,0.08);
    --text: rgba(255,255,255,0.92);
    --muted: rgba(255,255,255,0.65);
    --faint: rgba(255,255,255,0.35);
    --border: rgba(255,255,255,0.10);
    --shadow: 0 20px 60px rgba(0,0,0,0.45);
  
    --radius: 18px;
    --radius2: 14px;
  
    --accentHue: 120; /* overridden by JS based on progress */
    --accent: hsl(var(--accentHue) 85% 55%);
    --accentSoft: hsla(var(--accentHue) 85% 55% / 0.18);
  }
  
  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: radial-gradient(1200px 600px at 20% -10%, rgba(88, 130, 255, 0.25), transparent 55%),
                radial-gradient(900px 500px at 110% 10%, rgba(255, 88, 190, 0.20), transparent 55%),
                radial-gradient(900px 700px at 20% 110%, rgba(60, 255, 160, 0.15), transparent 60%),
                var(--bg);
    color: var(--text);
  }
  
  .app{
    width:min(520px, 100%);
    margin:0 auto;
    padding: 16px 14px 28px;
  }
  
  .top{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    padding: 8px 4px 14px;
  }
  
  .brand{
    display:flex;
    align-items:center;
    gap: 12px;
  }
  
  .logo{
    width: 44px;
    height: 44px;
    display:grid;
    place-items:center;
    border-radius: 14px;
    background: linear-gradient(180deg, var(--accentSoft), rgba(255,255,255,0.06));
    border: 1px solid var(--border);
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    font-weight: 800;
    letter-spacing: 0.5px;
  }
  
  .title{ font-size: 18px; font-weight: 800; line-height: 1.1; }
  .subtitle{ font-size: 13px; color: var(--muted); margin-top: 2px; }
  
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 14px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    margin-bottom: 12px;
  }
  
  .hero{
    padding: 16px;
    position: relative;
    overflow:hidden;
  }
  .hero::before{
    content:"";
    position:absolute;
    inset:-80px;
    background: radial-gradient(circle at 20% 20%, var(--accentSoft), transparent 60%),
                radial-gradient(circle at 80% 30%, rgba(255,255,255,0.08), transparent 55%);
    filter: blur(10px);
    pointer-events:none;
  }
  
  .heroTop{ position:relative; z-index:1; }
  .messageLabel{
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 6px;
  }
  .message{
    font-size: 18px;
    font-weight: 750;
    line-height: 1.25;
  }
  
  .sectionTitle{
    font-size: 14px;
    font-weight: 800;
    margin-bottom: 10px;
    color: rgba(255,255,255,0.88);
  }
  
  .progressMeta{
    display:flex;
    align-items:baseline;
    justify-content:space-between;
  }
  .small{ font-size: 12px; color: var(--muted); }
  .progressText{ font-size: 14px; font-weight: 800; color: rgba(255,255,255,0.88); }
  
  .completeBtn{
    width:100%;
    margin-top: 14px;
    padding: 14px 14px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.14);
    background: linear-gradient(180deg, var(--accentSoft), rgba(255,255,255,0.06));
    color: var(--text);
    font-size: 16px;
    font-weight: 900;
    letter-spacing: 0.2px;
    cursor:pointer;
    position:relative;
    z-index:1;
    transition: transform 120ms ease, opacity 120ms ease;
  }
  .completeBtn:active{ transform: scale(0.99); }
  .completeBtn:disabled{
    opacity: 0.45;
    cursor:not-allowed;
  }
  
  .hint{
    margin-top: 8px;
    font-size: 12px;
    color: var(--muted);
    position:relative;
    z-index:1;
  }
  
  .checklist{
    display:flex;
    flex-direction:column;
    gap: 10px;
  }
  
  .item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    padding: 12px 12px;
    border-radius: var(--radius2);
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.10);
  }
  
  .itemLeft{
    display:flex;
    align-items:center;
    gap: 10px;
    min-width: 0;
  }
  .itemTitle{
    font-size: 14px;
    font-weight: 800;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
  }
  .itemSub{
    font-size: 12px;
    color: var(--muted);
    margin-top: 2px;
  }
  
  .chk{
    width: 22px;
    height: 22px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.18);
    background: rgba(255,255,255,0.06);
    display:grid;
    place-items:center;
    flex: 0 0 auto;
  }
  .chk.on{
    background: var(--accentSoft);
    border-color: rgba(255,255,255,0.22);
  }
  .chk.on::after{
    content:"âœ“";
    font-weight: 900;
    color: rgba(255,255,255,0.92);
    transform: translateY(-0.5px);
  }
  
  .toggleBtn{
    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(255,255,255,0.05);
    color: var(--text);
    border-radius: 999px;
    padding: 9px 12px;
    font-weight: 850;
    cursor:pointer;
  }
  .toggleBtn.on{
    background: var(--accentSoft);
  }
  
  .cardInner{
    margin-top: 12px;
    padding: 12px;
    border-radius: var(--radius2);
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(255,255,255,0.05);
  }
  
  .waterTop{
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
    gap: 12px;
    margin-bottom: 10px;
  }
  
  .waterTitle{ font-weight: 900; font-size: 14px; }
  .waterSub{ font-size: 12px; color: var(--muted); margin-top: 2px; }
  .waterValue{ font-weight: 950; font-size: 16px; }
  
  .slider{
    width:100%;
    appearance:none;
    height: 10px;
    border-radius: 999px;
    background: rgba(255,255,255,0.10);
    border: 1px solid rgba(255,255,255,0.12);
    outline:none;
  }
  .slider::-webkit-slider-thumb{
    appearance:none;
    width: 22px;
    height: 22px;
    border-radius: 999px;
    background: var(--waterAccent, var(--accent));
    border: 2px solid rgba(255,255,255,0.55);
    box-shadow: 0 10px 20px rgba(0,0,0,0.25);
  }
  
  .slider::-moz-range-thumb{
    width: 22px;
    height: 22px;
    border-radius: 999px;
    background: var(--waterAccent, var(--accent));
    border: 2px solid rgba(255,255,255,0.55);
    box-shadow: 0 10px 20px rgba(0,0,0,0.25);
  }
  
  .waterTicks{
    display:flex;
    justify-content:space-between;
    font-size: 11px;
    color: var(--muted);
    margin-top: 8px;
  }
  
  .historyRow{
    display:flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 10px;
  }
  .pill{
    padding: 10px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(255,255,255,0.05);
    font-weight: 850;
    color: rgba(255,255,255,0.90);
  }
  
  .historyGrid{
    display:grid;
    grid-template-columns: repeat(15, 1fr);
    gap: 6px;
    padding: 10px 0 0;
  }
  .dayDot{
    width:100%;
    aspect-ratio: 1/1;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(255,255,255,0.06);
  }
  .dayDot.done{
    background: var(--accentSoft);
    border-color: rgba(255,255,255,0.18);
  }
  
  .footer{
    margin-top: 6px;
    text-align:center;
  }
  .tiny{
    font-size: 12px;
    color: var(--faint);
  }
  
  /* Buttons */
  button{ font-family: inherit; }
  .ghost{
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.05);
    color: var(--text);
    border-radius: 14px;
    padding: 10px 10px;
    cursor:pointer;
  }
  .dangerGhost{
    margin-top: 12px;
    width:100%;
    border: 1px solid rgba(255,120,120,0.28);
    background: rgba(255,120,120,0.10);
    color: rgba(255,255,255,0.90);
    border-radius: 14px;
    padding: 12px;
    font-weight: 900;
    cursor:pointer;
  }
  
  .primary{
    width:100%;
    border: 1px solid rgba(255,255,255,0.14);
    background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
    color: var(--text);
    border-radius: 14px;
    padding: 12px;
    font-weight: 950;
    cursor:pointer;
  }
  
  /* Modal */
  .modal{
    position: fixed;
    inset: 0;
    display:none;
    align-items:center;
    justify-content:center;
    padding: 16px;
    z-index: 50;
  }
  .modal.show{ display:flex; }
  
  .modalBackdrop{
    position:absolute;
    inset:0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }
  
  .modalCard{
    width: min(520px, 100%);
    position:relative;
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(15, 20, 28, 0.92);
    box-shadow: 0 30px 90px rgba(0,0,0,0.55);
    overflow:hidden;
  }
  
  .modalHeader{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap: 10px;
    padding: 14px;
    border-bottom: 1px solid rgba(255,255,255,0.10);
  }
  .modalTitle{ font-size: 16px; font-weight: 950; }
  .modalSub{ font-size: 12px; color: var(--muted); margin-top: 2px; }
  
  .modalBody{ padding: 14px; }
  .field{
    display:flex;
    flex-direction:column;
    gap: 6px;
    font-size: 12px;
    color: var(--muted);
  }
  .field input{
    margin-top: 2px;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.06);
    color: var(--text);
    font-size: 14px;
    font-weight: 850;
    outline:none;
  }
  
  .divider{
    height: 1px;
    background: rgba(255,255,255,0.10);
    margin: 14px 0;
  }
  
  .smallLabel{
    font-size: 12px;
    font-weight: 900;
    color: rgba(255,255,255,0.86);
    margin-bottom: 10px;
  }
  
  .toggles{
    display:flex;
    flex-direction:column;
    gap: 10px;
  }
  .toggleRow{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
    padding: 12px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(255,255,255,0.05);
  }
  .toggleRow .name{
    font-weight: 900;
    font-size: 13px;
  }
  .toggleRow .desc{
    font-size: 12px;
    color: var(--muted);
    margin-top: 2px;
  }
  .toggleRow .right{
    flex: 0 0 auto;
  }
  
  .note{
    font-size: 12px;
    color: var(--muted);
    line-height: 1.35;
  }
  
  .modalFooter{
    padding: 14px;
    border-top: 1px solid rgba(255,255,255,0.10);
  }

  /* === Complete ring button === */
.completeRingWrap{
    margin-top: 14px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap: 10px;
    position:relative;
    z-index:1;
  }
  
  .completeRing{
    width: 170px;
    height: 170px;
    position: relative;
    display:grid;
    place-items:center;
  }
  
  .ringSvg{
    position:absolute;
    inset:0;
    transform: rotate(-90deg);
  }
  
  .ringTrack{
    fill:none;
    stroke: rgba(255,255,255,0.10);
    stroke-width: 10;
  }
  
  .ringProgress{
    fill:none;
    stroke: var(--accent);
    stroke-width: 10;
    stroke-linecap: round;
    stroke-dasharray: 0 999;
    filter: drop-shadow(0 10px 18px rgba(0,0,0,0.25));
  }
  
  .completeCircleBtn{
    width: 122px;
    height: 122px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.16);
    background: linear-gradient(180deg, var(--accentSoft), rgba(255,255,255,0.06));
    color: var(--text);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap: 2px;
    cursor:pointer;
    transition: transform 120ms ease, opacity 120ms ease;
  }
  
  .completeCircleBtn:active{ transform: scale(0.99); }
  .completeCircleBtn:disabled{ opacity: 0.45; cursor:not-allowed; }
  
  .circleTop{ font-size: 13px; font-weight: 900; opacity: 0.95; }
  .circleMid{ font-size: 16px; font-weight: 950; }
  .circleSub{ font-size: 12px; color: var(--muted); font-weight: 900; }
  
  /* Optional: hide old completeBtn styles from impacting layout */
  .completeBtn{ display:none; }

  .ringSvg { pointer-events: none; }
  .ringTrack, .ringProgress { pointer-events: none; }